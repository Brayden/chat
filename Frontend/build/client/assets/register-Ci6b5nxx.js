import{w as x}from"./with-props-ap4d8DRX.js";import{p as h,r as l,l as e}from"./chunk-GNGMS2XR-BqdPGk2M.js";const b=x(function(){h();const[s,m]=l.useState({email:"",password:"",firstName:"",lastName:"",avatar:null}),[o,i]=l.useState(null),[d,c]=l.useState(!1),u=async n=>{n.preventDefault(),i(null),c(!0);try{const t=await(await fetch("https://group-chat.brayden-b8b.workers.dev/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();if(!t.success){i(t.message||"Registration failed");return}localStorage.setItem("session",t.session.id),localStorage.setItem("userId",t.user.id),localStorage.setItem("user",JSON.stringify(t.user)),window.location.href="/channel/0"}catch(a){i("Failed to register"),console.error("Registration error:",a)}finally{c(!1)}},r=n=>{const{name:a,value:t}=n.target;m(g=>({...g,[a]:t}))};return e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white text-black p-8 shadow-md",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight",children:"Create your account"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join our chat community"})]}),e.jsxs("form",{onSubmit:u,className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"space-y-4 rounded-md shadow-sm",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:s.email,onChange:r,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",value:s.firstName,onChange:r,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",value:s.lastName,onChange:r,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Enter your last name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:s.password,onChange:r,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Create a password"})]})]}),o&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:o}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"group relative flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50",children:d?"Creating account...":"Create account"})})]}),e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx("a",{href:"/auth/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})})]})})});export{b as default};
