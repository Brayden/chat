import{w as x}from"./with-props-ap4d8DRX.js";import{p as h,r as a,l as e}from"./chunk-GNGMS2XR-BqdPGk2M.js";const b=x(function(){h();const[i,m]=a.useState({email:"",password:""}),[o,r]=a.useState(null),[l,d]=a.useState(!1),u=async n=>{n.preventDefault(),r(null),d(!0);try{const s=await(await fetch("https://group-chat.brayden-b8b.workers.dev/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();if(!s.success){r(s.message||"Invalid credentials");return}localStorage.setItem("session",s.session.id),localStorage.setItem("userId",s.user.id),localStorage.setItem("user",JSON.stringify(s.user)),window.location.href="/channel/0"}catch(t){r("Failed to sign in"),console.error("Authentication error:",t)}finally{d(!1)}},c=n=>{const{name:t,value:s}=n.target;m(g=>({...g,[t]:s}))};return e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white text-black p-8 shadow-md",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight",children:"Sign in to Chat"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please enter your credentials"})]}),e.jsxs("form",{onSubmit:u,className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"space-y-4 rounded-md shadow-sm",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:c,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:i.password,onChange:c,required:!0,className:"relative block w-full rounded-md border-0 p-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Enter your password"})]})]}),o&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:o}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l,className:"group relative flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50",children:l?"Signing in...":"Sign in"})})]}),e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:e.jsxs("p",{children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})})]})})});export{b as default};
